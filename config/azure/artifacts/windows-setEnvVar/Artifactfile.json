{
  "$schema": "https://raw.githubusercontent.com/Azure/azure-devtestlab/master/schemas/2016-11-28/dtlArtifacts.json",
  "title": "Set environment variable",
  "description": "Set environment variable",
  "publisher": "Microsoft",
  "tags": [
    "Windows"
  ],
  "iconUri": "https://www.visualstudio.com/wp-content/uploads/2017/11/microsoft-visual-studio.svg",
  "targetOsType": "Windows",
  "parameters": {
    "envName": {
      "type": "string",
      "displayName": "Environment variable name",
      "description": "Environment variable name",
	  "allowEmpty": false
    },
    "envValue": {
      "type": "string",
      "displayName": "Environment variable value",
      "description": "Environment variable value",
	  "allowEmpty": false
    }
  },
  "runCommand": {
    "commandToExecute": "[concat('powershell.exe -ExecutionPolicy bypass \"& ./artifact-main.ps1 -envName ''', parameters('envName'), ''' -envValue ', '''', parameters('envValue'), '''', '\"')]"
  }
}
